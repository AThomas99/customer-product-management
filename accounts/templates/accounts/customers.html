{% extends 'base.html' %}

{% block content %}

<div class="row m-3">
    <div class="col">
        <div class="col-md">
            <div class="card text-center text-black mb-1" id="total-order">
                <div class="card-header">
                    <h5 class="card-title">Customer: {{ customers.name }} </h5>
                </div>
                <div class="card-body">
                    <h3 class="card-title d-grid gap-2">
                        <a class="btn btn-outline-primary btn-block" href="#" role="button">Update customer</a>
                        <a class="btn btn-outline-danger btn-block" href="{% url 'create-order' customers.id %}" role="button">Place new order</a>
                    </h3>
                </div>
            </div>
        </div>
    </div>
    <div class="col">
        <div class="col-md">
            <div class="card text-center text-black mb-3" id="total-order">
                <div class="card-header">
                    <h5 class="card-title">Contact Information</h5>
                </div>
                <div class="card-body d-grid gap-2 text-center">
                        <p>Email address: {{ customers.email }}</p>
                        <p>Phone number: {{ customers.phone }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="col">
        <div class="col-md">
            <div class="card text-center text-black mb-3" id="total-order">
                <div class="card-header">
                    <h5 class="card-title">Total Orders</h5>
                </div>
                <div class="card-body">
                    <h1 class="card-title p-3">{{customer_orders.count}}</h1>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row m-3">
    <div class="col">
        <div class="col-md">
            <div class="card text-center text-black mb-3" id="total-order">
                <div class="card-header">
                    <form class="d-flex" method="get">
                        {{myFilter.form}}
                        <button class="btn btn-outline-success" type="submit">Search</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="card card-body">
    <table class="table table-bordered">
        <thead>
          <tr>
            <th scope="col">Product</th>
            <th scope="col">Note</th>
            <th scope="col">Date Ordered</th>
            <th scope="col">Status</th>
            <th scope="col">Update</th>
            <th scope="col">Remove</th>
          </tr>
        </thead>
        <tbody>
        {% for customer_order in customer_orders %}
          <tr>
            <th scope="row">{{customer_order.product}}</th>
            <td>{{ customer_order.note }}</td>
            <td>{{ customer_order.date_created }}</td>
            <td>{{customer_order.status}}</td>
            <td><a class="btn btn-primary" href="#" role="button">Update</a></td>
            <td><a class="btn btn-danger" href="#" role="button">Delete</a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
</div>

{% endblock content %}